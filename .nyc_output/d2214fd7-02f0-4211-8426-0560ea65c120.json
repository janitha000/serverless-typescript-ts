{"D:\\Learning\\Serverless\\serverless-step\\src\\functions\\hello\\handler.ts":{"path":"D:\\Learning\\Serverless\\serverless-step\\src\\functions\\hello\\handler.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":24},"end":{"line":5,"column":50}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":47}},"5":{"start":{"line":7,"column":21},"end":{"line":7,"column":45}},"6":{"start":{"line":8,"column":14},"end":{"line":16,"column":1}},"7":{"start":{"line":9,"column":19},"end":{"line":9,"column":60}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":42}},"9":{"start":{"line":11,"column":4},"end":{"line":15,"column":7}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":14},"end":{"line":8,"column":15}},"loc":{"start":{"line":8,"column":40},"end":{"line":16,"column":1}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"D:/Learning/Serverless/serverless-step/src/functions/hello/handler.ts","sources":["D:/Learning/Serverless/serverless-step/src/functions/hello/handler.ts"],"names":[],"mappings":";;;AACA,mDAAuD;AAEvD,mDAA2C;AAC3C,gDAA6C;AAI7C,MAAM,YAAY,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;AAE9C,MAAM,KAAK,GAAsD,KAAK,EAAE,KAAK,EAAE,OAAgB,EAAE,EAAE;IACjG,MAAM,MAAM,GAAG,IAAI,eAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IAChD,IAAA,wBAAQ,EAAC,MAAM,CAAC,CAAC;IACjB,OAAO,IAAA,gCAAkB,EAAC;QACxB,OAAO,EAAE,kDAAkD;QAC3D,GAAG,EAAE,GAAG,YAAY,QAAQ;QAC5B,KAAK;KACN,CAAC,CAAC;AACL,CAAC,CAAC;AAEW,QAAA,IAAI,GAAG,KAAK,CAAC","sourcesContent":["import type { ValidatedEventAPIGatewayProxyEvent } from '@libs/api-gateway';\nimport { formatJSONResponse } from '@libs/api-gateway';\n// import { middyfy } from '@libs/lambda';\nimport { helloLog } from './hello.service';\nimport { Logger } from '../../common/logger';\nimport schema from './schema';\nimport { Context } from 'aws-lambda';\n\nconst API_URL_BASE = process.env.API_URL_BASE;\n\nconst hello: ValidatedEventAPIGatewayProxyEvent<typeof schema> = async (event, context: Context) => {\n  const logger = new Logger(context.awsRequestId);\n  helloLog(logger);\n  return formatJSONResponse({\n    message: `Hello, welcome to the exciting Serverless world!`,\n    url: `${API_URL_BASE}/hello`,\n    event,\n  });\n};\n\nexport const main = hello;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"99bc10c701df1e47728a984adab236d45ba08e07","contentHash":"47c761a26daac3c1e079de1dfbee116a6d4ed08962b240a00fcedab6a38eaf8a"},"D:\\Learning\\Serverless\\serverless-step\\src\\libs\\api-gateway.ts":{"path":"D:\\Learning\\Serverless\\serverless-step\\src\\libs\\api-gateway.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":27},"end":{"line":9,"column":1}},"3":{"start":{"line":5,"column":4},"end":{"line":8,"column":6}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":27},"end":{"line":4,"column":28}},"loc":{"start":{"line":4,"column":41},"end":{"line":9,"column":1}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"D:/Learning/Serverless/serverless-step/src/libs/api-gateway.ts","sources":["D:/Learning/Serverless/serverless-step/src/libs/api-gateway.ts"],"names":[],"mappings":";;;AAMO,MAAM,kBAAkB,GAAG,CAAC,QAAiC,EAAE,EAAE;IACtE,OAAO;QACL,UAAU,EAAE,GAAG;QACf,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;KAC/B,CAAA;AACH,CAAC,CAAA;AALY,QAAA,kBAAkB,sBAK9B","sourcesContent":["import type { APIGatewayProxyEvent, APIGatewayProxyResult, Handler } from \"aws-lambda\"\nimport type { FromSchema } from \"json-schema-to-ts\";\n\ntype ValidatedAPIGatewayProxyEvent<S> = Omit<APIGatewayProxyEvent, 'body'> & { body: FromSchema<S> }\nexport type ValidatedEventAPIGatewayProxyEvent<S> = Handler<ValidatedAPIGatewayProxyEvent<S>, APIGatewayProxyResult>\n\nexport const formatJSONResponse = (response: Record<string, unknown>) => {\n  return {\n    statusCode: 200,\n    body: JSON.stringify(response)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a0dccd10f6af8d99132cdbddb2274a0f4555c73e","contentHash":"fdfc76a3f04b4f5de043c01b6715ae6c48eac6e9555622742c0fdd460f781fcf"},"D:\\Learning\\Serverless\\serverless-step\\src\\functions\\hello\\hello.service.ts":{"path":"D:\\Learning\\Serverless\\serverless-step\\src\\functions\\hello\\hello.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":17},"end":{"line":6,"column":1}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":64}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"5":{"start":{"line":8,"column":18},"end":{"line":10,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":65}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":17},"end":{"line":4,"column":18}},"loc":{"start":{"line":4,"column":29},"end":{"line":6,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":18},"end":{"line":8,"column":19}},"loc":{"start":{"line":8,"column":30},"end":{"line":10,"column":1}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"D:/Learning/Serverless/serverless-step/src/functions/hello/hello.service.ts","sources":["D:/Learning/Serverless/serverless-step/src/functions/hello/hello.service.ts"],"names":[],"mappings":";;;AAEO,MAAM,QAAQ,GAAG,CAAC,MAAc,EAAE,EAAE;IACvC,MAAM,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC,CAAA;AAC/D,CAAC,CAAA;AAFY,QAAA,QAAQ,YAEpB;AAEM,MAAM,SAAS,GAAG,CAAC,MAAc,EAAE,EAAE;IACxC,MAAM,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC,CAAA;AAChE,CAAC,CAAA;AAFY,QAAA,SAAS,aAErB","sourcesContent":["import { Logger } from '../../common/logger';\r\n\r\nexport const helloLog = (logger: Logger) => {\r\n    logger.INFO({ message: 'This is from the hello function' })\r\n}\r\n\r\nexport const hello2Log = (logger: Logger) => {\r\n    logger.INFO({ message: 'This is from the hello2 function' })\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"09fc87d1f4bb51c28339976e4aedddb1cc4265b1","contentHash":"5e934d6a8aafccc4c41f1f5c111f9c4bb8f7462be61c44cfed549d4625efeed9"},"D:\\Learning\\Serverless\\serverless-step\\src\\common\\logger.ts":{"path":"D:\\Learning\\Serverless\\serverless-step\\src\\common\\logger.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":37}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":39}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":45}},"5":{"start":{"line":9,"column":8},"end":{"line":12,"column":10}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":119}},"7":{"start":{"line":11,"column":12},"end":{"line":11,"column":49}},"8":{"start":{"line":13,"column":8},"end":{"line":16,"column":10}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":115}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":49}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":36}},"12":{"start":{"line":20,"column":0},"end":{"line":20,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":27},"end":{"line":18,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":21},"end":{"line":9,"column":22}},"loc":{"start":{"line":9,"column":34},"end":{"line":12,"column":9}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":20},"end":{"line":13,"column":21}},"loc":{"start":{"line":13,"column":33},"end":{"line":16,"column":9}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1,"1":0,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"D:/Learning/Serverless/serverless-step/src/common/logger.ts","sources":["D:/Learning/Serverless/serverless-step/src/common/logger.ts"],"names":[],"mappings":";;;AACA,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;AACtC,MAAM,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;AACxC,MAAM,YAAY,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;AAC9C,MAAa,MAAM;IAGf,YAAY,SAAiB;QAI7B,UAAK,GAAG,CAAC,OAAmB,EAAE,EAAE;YAC5B,OAAO,GAAG,EAAE,QAAQ,EAAE,SAAS,EAAE,YAAY,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,OAAO,EAAE,CAAC;YAC3G,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QACzC,CAAC,CAAA;QAED,SAAI,GAAG,CAAC,OAAmB,EAAE,EAAE;YAC3B,OAAO,GAAG,EAAE,QAAQ,EAAE,SAAS,EAAE,YAAY,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,OAAO,EAAE,CAAC;YACvG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QACzC,CAAC,CAAA;QAXG,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAChC,CAAC;CAWJ;AAhBD,wBAgBC","sourcesContent":["\r\nconst app_name = process.env.APP_NAME;\r\nconst app_stage = process.env.APP_SATGE;\r\nconst service_name = process.env.SERVICE_NAME;\r\nexport class Logger {\r\n    _contextId: string;\r\n\r\n    constructor(contextId: string) {\r\n        this._contextId = contextId;\r\n    }\r\n\r\n    Error = (payload: LogPayload) => {\r\n        payload = { app_name, app_stage, service_name, context_id: this._contextId, type: 'CRITICAL', ...payload };\r\n        console.log(JSON.stringify(payload));\r\n    }\r\n\r\n    INFO = (payload: LogPayload) => {\r\n        payload = { app_name, app_stage, service_name, context_id: this._contextId, type: 'INFO', ...payload };\r\n        console.log(JSON.stringify(payload));\r\n    }\r\n}\r\n\r\nexport interface LogPayload {\r\n    app_name?: string;\r\n    app_stage?: string;\r\n    service_name?: string;\r\n    context_id?: string;\r\n    type?: string;\r\n    data?: any;\r\n    message?: string;\r\n    callstack?: string;\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97553498a9d0eda32bede65092edfc619484c6b6","contentHash":"35353a93837c58eca36e92589c77c1414c039b5c1a7eb99ac23b1ea6c3c4238a"}}